{
    "elastic": {
      "enabled": true,
      "intervalMin": 1,
      "host": "http://10.10.10.200:9200",
      "keepAlive": true,
      "requestTimeout": 500000,
      "cdrIndexName": "cdr",
      "templates": [
        {
          "name": "webitel",
          "body": {
            "template" : "cdr-*",
            "order": 2,
            "mappings": {
              "collection": {
                "dynamic_templates" : [
                  {
                    "string_fields" : {
                      "match_mapping_type": "*",
                      "match" : "*",
                      "mapping" : {
                        "type" : "keyword"
                      }
                    }
                  },
                  {
                    "integers": {
                      "match_mapping_type": "long",
                      "path_match" : "variables.*",
                      "mapping": {
                        "type": "keyword"
                      }
                    }
                  },
                  {
                    "notanalyzed": {
                      "match":              "*",
                      "mapping": {
                        "type":        "keyword"
                      }
                    }
                  }
                ],
                "dynamic": true,
                "properties": {
                  "Location" : {
                    "type" : "geo_point"
                  },
                  "Call start time": {
                    "type": "date",
                    "format": "yyyy-MM-dd HH:mm:ss"
                  },
                  "Call answer time": {
                    "type": "date",
                    "format": "yyyy-MM-dd HH:mm:ss"
                  },
                  "Call direction": {
                    "type": "keyword"
                  },
                  "Hangup cause": {
                    "type": "keyword"
                  },
                  "User ID": {
                    "type": "keyword"
                  },
                  "Destination User": {
                    "type": "keyword"
                  },
                  "Q850 Hangup Code": {
                    "type": "long"
                  },
                  "Call duration": {
                    "type": "long"
                  },
                  "Queue start time": {
                    "type": "date"
                  },
                  "Queue answer time": {
                    "type": "date"
                  },
                  "Queue stop time": {
                    "type": "date"
                  },
                  "Queue Answer Delay": {
                    "type": "long"
                  },
                  "Queue waiting duration": {
                    "type": "long"
                  },
                  "Queue call duration": {
                    "type": "long"
                  },
                  "Queue connected call duration": {
                    "type": "long"
                  },
                  "Queue Answered": {
                    "type": "boolean",
                    "store": true
                  },
                  "Connected call duration": {
                    "type": "long"
                  },
                  "Call end time": {
                    "type": "date",
                    "format": "yyyy-MM-dd HH:mm:ss"
                  },
                  "Bridge time": {
                    "type": "date"
                  },
                  "Progress time": {
                    "type": "date",
                    "format": "yyyy-MM-dd HH:mm:ss"
                  },
                  "Agent ID": {
                    "type": "keyword"
                  },
                  "Queue ID": {
                    "type": "keyword"
                  },
                  "Destination number": {
                    "type": "keyword"
                  },
                  "Call record duration": {
                    "type": "integer"
                  },
                  "CallerID number": {
                    "type": "keyword"
                  },
                  "Domain name": {
                    "type": "keyword"
                  },
                  "Bridged": {
                    "type": "boolean",
                    "store": true
                  },
                  "Answered": {
                    "type": "boolean",
                    "store": true
                  },
                  "Ring Duration": {
                    "type": "long"
                  },
                  "Before Bridge Delay": {
                    "type": "long"
                  },
                  "Post Dialing Delay": {
                    "type": "long"
                  },
                  "CreatedOnStorage": {
                    "type": "long",
                    "store": true
                  },
                  "variables": {
                    "type": "object",
                    "properties": {
                      "start_stamp": {
                        "type": "date",
                        "format": "yyyy-MM-dd HH:mm:ss"
                      },
                      "answersec": {
                        "type": "long"
                      },
                      "billsec": {
                        "type": "long"
                      },
                      "conference_member_id": {
                        "type": "long"
                      },
                      "duration": {
                        "type": "long"
                      },
                      "flow_billsec": {
                        "type": "long"
                      },
                      "hangup_cause_q850": {
                        "type": "long"
                      },
                      "hold_accum_seconds": {
                        "type": "long"
                      },
                      "original_read_rate": {
                        "type": "long"
                      },
                      "playback_ms": {
                        "type": "long"
                      },
                      "playback_seconds": {
                        "type": "long"
                      },
                      "progress_mediasec": {
                        "type": "long"
                      },
                      "read_rate": {
                        "type": "long"
                      },
                      "record_seconds": {
                        "type": "long"
                      },
                      "sip_invite_failure_status": {
                        "type": "long"
                      },
                      "video_read_rate": {
                        "type": "long"
                      },
                      "video_write_rate": {
                        "type": "long"
                      },
                      "waitsec": {
                        "type": "long"
                      },
                      "write_rate": {
                        "type": "long"
                      }
                    }
                  },
                  "recordings": {
                    "type": "nested",
                    "include_in_parent": true,
                    "properties": {
                      "content-type": {
                        "type": "keyword"
                      },
                      "createdOn": {
                        "type": "date",
                        "format": "strict_date_optional_time||epoch_millis"
                      },
                      "domain": {
                        "type": "keyword"
                      },
                      "name": {
                        "type": "keyword"
                      },
                      "path": {
                        "type": "keyword"
                      },
                      "private": {
                        "type": "boolean",
                        "store": true
                      },
                      "size": {
                        "type": "long"
                      },
                      "type": {
                        "type": "integer"
                      },
                      "uuid": {
                        "type": "keyword"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        {
          "name": "accounts",
          "body": {
            "template": "accounts-*",
            "order": 3,
            "mappings": {
              "collection": {
                "properties": {
                  "date": {
                    "type": "date"
                  },
                  "timeSec": {
                    "type": "long"
                  },
                  "endDate": {
                    "type": "date"
                  },
                  "domain": {
                    "type": "keyword"
                  },
                  "account": {
                    "type": "keyword"
                  },
                  "status": {
                    "type": "keyword"
                  },
                  "state": {
                    "type": "keyword"
                  },
                  "description": {
                    "type": "keyword"
                  },
                  "online": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      ]
    }
  }